> æœ¬æ–‡ç”± [ç®€æ‚¦ SimpRead](http://ksria.com/simpread/) è½¬ç ï¼Œ åŸæ–‡åœ°å€ https://mp.weixin.qq.com/s/FD4s0RMRqAy5b_NsrK3Oog

<section class="" style="font-size: 16px;color: rgb(84, 84, 84);margin-left: 6px;margin-right: 6px;line-height: 1.6;letter-spacing: 1px;word-break: break-all;font-family: &quot;Helvetica Neue&quot;, PingFangSC-Regular, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">

> æœ¬æ–‡ç”± **ç‰åˆšè¯´å†™ä½œå¹³å°** æä¾›å†™ä½œèµåŠ©
> åŸä½œè€…ï¼š**æ°´æ™¶è™¾é¥º**

**Flutter å­¦ä¹ æŒ‡å—**
6\. [æ–‡ä»¶å­˜å‚¨å’Œç½‘ç»œ](http://mp.weixin.qq.com/s?__biz=MzIwMTAzMTMxMg==&mid=2649493395&idx=1&sn=01a51c9b5ddb3b36807f5dab6c0cbf19&chksm=8eec846cb99b0d7aee799f1d5015359583942ea3ac854875d8dc5ff22b622b495f0df6fb42a3&scene=21#wechat_redirect)
5\. [äº¤äº’ã€æ‰‹åŠ¿å’ŒåŠ¨ç”»](http://mp.weixin.qq.com/s?__biz=MzIwMTAzMTMxMg==&mid=2649493373&idx=1&sn=554adfc44d9acd226e5a8d0b3c8c118e&chksm=8eec8482b99b0d942e276a70ad820a87b869c4555643590de518980e406d9863fc1bddec52e8&scene=21#wechat_redirect)
4\. [UI å¸ƒå±€å’Œæ§ä»¶](http://mp.weixin.qq.com/s?__biz=MzIwMTAzMTMxMg==&mid=2649493313&idx=1&sn=f8cb9d51a18f827348f547a925bcf995&chksm=8eec84beb99b0da825769bb530e17369d31fcd87797cb03df7ec184e3e25f97b141aa23eb6c2&scene=21#wechat_redirect)
3\. [ç†Ÿæ‚‰ Dart è¯­è¨€](http://mp.weixin.qq.com/s?__biz=MzIwMTAzMTMxMg==&mid=2649493277&idx=1&sn=83cae5e71af5a1ba486add4824e51e91&chksm=8eec84e2b99b0df4fc5f9f56719fc5edcdaeac2851b7147ebbe331f21f9f7d13f32ab104d2f7&scene=21#wechat_redirect)
2\. [ç¼–å†™ç¬¬ä¸€ä¸ªåº”ç”¨](http://mp.weixin.qq.com/s?__biz=MzIwMTAzMTMxMg==&mid=2649493273&idx=1&sn=7e543c597adfab4bdd79a0699239db64&chksm=8eec84e6b99b0df0020242b0ed085b4b38fcbae8a31710d387cd3545ddb22139ed1d32eb545c&scene=21#wechat_redirect)
1\. [å¼€å‘ç¯å¢ƒæ­å»º](http://mp.weixin.qq.com/s?__biz=MzIwMTAzMTMxMg==&mid=2649492521&idx=1&sn=723658efc8221f15f6a6a93e1a3f08c8&chksm=8eec87d6b99b0ec0fef71ee2a29f03c9997124fd91c031d350500df973e648954435e823b04f&scene=21#wechat_redirect)

æœ¬æ–‡æ˜¯ Flutter å­¦ä¹ æŒ‡å—ç³»åˆ—çš„ç¬¬ 7 ç¯‡æ–‡ç« ï¼Œå»ºè®®å¤§å®¶æ”¶è—èµ·æ¥ï¼Œæ¬¢è¿åˆ†äº«ç»™ä»–äººã€‚

æœ¬ç¯‡æ–‡ç« æˆ‘ä»¬å…ˆä¸€èµ·å­¦ä¹  Flutter æ’ä»¶çš„ä½¿ç”¨ï¼Œç„¶åé€šè¿‡å¼€å‘ä¸€ä¸ª toast æ’ä»¶æ¥å­¦ä¹ å®ƒçš„å¼€å‘ï¼Œæœ€åå‘å¸ƒåˆ° Pub ä¸Šã€‚

### æ’ä»¶çš„ä½¿ç”¨

Flutter çš„åº“æ˜¯ä»¥ package çš„æ–¹å¼æ¥ç®¡ç†ã€‚Package åˆ†ä¸ºä¸¤ç§ï¼ŒDart packageï¼ˆä¹Ÿå« library packageï¼‰ å’Œ plugin packageã€‚å½“æˆ‘ä»¬è¯´ Fluter åŒ…çš„æ—¶å€™ï¼ŒæŒ‡çš„å…¶å®ä¹Ÿæ˜¯ Dart åŒ…ï¼Œå®ƒåªèƒ½ä½¿ç”¨ Dart å’Œ Flutter æä¾›çš„ APIï¼›è€Œå½“æˆ‘ä»¬è¯´ Flutter æ’ä»¶æ—¶æŒ‡çš„æ˜¯åè€…ï¼Œä¹Ÿå°±æ˜¯ plugin packageã€‚Flutter æ’ä»¶é€šå¸¸ä¼šåŒ…å«å¹³å°ç‰¹å®šçš„ä»£ç ã€‚å¯¹åŒ…çš„ä½¿ç”¨è€…æ¥è¯´ï¼Œä¸¤è€…æ²¡æœ‰åŒºåˆ«ã€‚

#### æ·»åŠ ä¾èµ–

ä¸ºäº†ä½¿ç”¨ä¸€ä¸ªåº“ï¼Œæˆ‘ä»¬é¦–å…ˆåœ¨ pubspec.yaml é‡Œå£°æ˜ä¸€ä¸ªä¾èµ–ï¼š

```
dependencies:Â Â shared_preferences:Â ^0.4.2
```

^0.4.2 è¡¨ç¤ºä¸ 0.4.2 å…¼å®¹çš„ç‰ˆæœ¬ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‡å®šä¾èµ–åº“çš„ä¸ºç‰¹å®šçš„ç‰ˆæœ¬ï¼š

*   anyï¼šä»»æ„ç‰ˆæœ¬

*   1.2.3ï¼šç‰¹å®šçš„ç‰ˆæœ¬

*   <1.2.3ï¼šå°äº 1.2.3 çš„ç‰ˆæœ¬ï¼Œæ­¤å¤–è¿˜æœ‰ <=ã€>ã€>= å¯ä»¥ä½¿ç”¨

*   '>=1.2.3 <2.0.0'ï¼šæŒ‡å®šä¸€ä¸ªèŒƒå›´

æ¥ä¸‹æ¥ï¼Œåœ¨é¡¹ç›®çš„æ ¹ç›®å½•æ‰§è¡Œ flutter packages getã€‚å¦‚æœä½ ä½¿ç”¨ Android Studio è¿›è¡Œå¼€å‘ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨ pubspec.yaml çš„ç¼–è¾‘é¡µé¢ä¸Šé¢ç‚¹å‡» Packages get æŒ‰é’®ã€‚

ä¸Šé¢ä¾‹å­çš„æ˜¯å‘å¸ƒåœ¨ pub.dartlang.org ä¸Šçš„åº“ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–çš„æºï¼š

```
dependencies:Â Â transmogrify:Â Â Â Â hosted:Â Â Â Â Â Â name:Â transmogrifyÂ Â Â Â Â Â url:Â http://your-package-server.comÂ Â Â Â version:Â ^1.4.0Â Â kittens:Â Â Â Â git:Â Â Â Â Â Â url:Â git://github.com/munificent/cats.gitÂ Â Â Â Â Â ref:Â some-branchÂ Â #Â å¯é€‰çš„Â Â kittens:Â Â Â Â git:Â Â Â Â Â Â url:Â git://github.com/munificent/cats.gitÂ Â Â Â Â Â path:Â path/to/kittensÂ Â #Â æŒ‡å®šè·¯å¾„Â Â Â Â #Â ç”šè‡³å¯ä»¥æŒ‡å®šä¸€ä¸ªæœ¬åœ°è·¯å¾„Â Â Â Â transmogrify:Â Â Â Â Â Â path:Â /Users/me/transmogrify
```

å¦‚æœä½ çœ‹è¿‡ Flutter çš„ pubspecï¼Œåº”è¯¥ä¼šæ³¨æ„åˆ° flutter æ˜¯è¿™æ ·å£°æ˜çš„ï¼š

```
dependencies:Â Â flutter:Â Â Â Â sdk:Â flutter
```

sdk ç”¨äºå¯¼å…¥éš Flutter ä¸€èµ·å‘å¸ƒçš„åŒ…ï¼Œç›®å‰åªæœ‰ flutterã€‚

#### ä½¿ç”¨

å¯¼å…¥ç›¸å…³çš„åŒ…åï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å®ƒçš„ API äº†ï¼š

```
importÂ 'package:shared_preferences/shared_preferences.dart';voidÂ foo()Â asyncÂ {Â Â varÂ prefsÂ =Â awaitÂ SharedPreferences.getInstance();Â Â varÂ usedÂ =Â prefs.getBool('used');Â Â ifÂ (!used)Â {Â Â Â Â prefs.setBool('used',Â true);Â Â }}
```

è¿™ç§å¯¼å…¥æ–¹å¼çš„é—®é¢˜åœ¨äºï¼Œä»–æŠŠåº“é‡Œæ‰€æœ‰çš„ç¬¦å·åˆ°å¯¼å…¥åˆ°äº†å…¨å±€çš„å‘½åç©ºé—´é‡Œé¢ï¼ˆæ¯”æ–¹è¯´ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­é‡Œï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ SharedPreferencesï¼‰ã€‚æœ‰æ—¶ä¸ºäº†é˜²æ­¢å‘½åç©ºé—´çš„æ±¡æŸ“ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ as ç»™å¯¼å…¥çš„åº“ä¸€ä¸ªåå­—ï¼ˆå½“ç„¶ï¼Œå¯¹ SharedPreferences å…¶å®æ²¡æœ‰å¿…è¦ä½¿ç”¨é™å®šåå°±æ˜¯äº†ï¼‰ï¼š

```
voidÂ foo()Â asyncÂ {Â Â varÂ prefsÂ =Â awaitÂ sp.SharedPreferences.getInstance();Â Â varÂ usedÂ =Â prefs.getBool('used');Â Â ifÂ (!used)Â {Â Â Â Â prefs.setBool('used',Â true);Â Â }}
```

äº†è§£äº† Flutter åŒ…çš„ä½¿ç”¨åï¼Œä¸‹é¢æˆ‘ä»¬è‡ªå·±æ¥å¼€å‘ä¸€ä¸ª flutter æ’ä»¶ã€‚

### å¼€å‘ä¸€ä¸ªæ’ä»¶

å­¦ä¹  Flutter çš„è¿‡ç¨‹ä¸­ï¼Œä¸çŸ¥é“æ˜¯ä½ æ˜¯å¦æ³¨æ„åˆ° Flutter å¹¶æ²¡æœ‰æä¾›ä¸€ä¸ª Toast APIã€‚ä¸ºäº†å¼¥è¡¥è¿™ä¸ªé—æ†¾ï¼Œåœ¨è¿™ä¸€èŠ‚é‡Œæˆ‘ä»¬å°±æ¥å¼€å‘ä¸€ä¸ªæ’ä»¶ï¼Œè®©å®ƒæ”¯æŒ Toastã€‚

åœ¨å¼€å§‹å¼€å‘å‰ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ Flutter å¦‚ä½•è·Ÿå¹³å°ç›¸å…³çš„ä»£ç è¿›è¡Œé€šä¿¡ã€‚

#### MethodChannel

Flutter è·Ÿå¹³å°ç›¸å…³ä»£ç å¯ä»¥é€šè¿‡ MethodChannel è¿›è¡Œé€šä¿¡ã€‚å®¢æˆ·ç«¯é€šè¿‡ MethodChannel å°†æ–¹æ³•è°ƒç”¨å’Œå‚æ•°å‘ç”Ÿç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¹Ÿé€šè¿‡ MethodChannel æ¥æ”¶ç›¸å…³çš„æ•°æ®ã€‚

![](https://mmbiz.qpic.cn/mmbiz_png/zKFJDM5V3Wzj0Fymj5ictWZUIXTsNDQKDxUldylFuMudR8qzplP8nfvH9PD1gk2TVdyLp5WmDJ4tos8LBM8NWHw/640?wx_fmt=png)PlatformChannels

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šå›¾ä¸­çš„ç®­å¤´æ˜¯åŒå‘çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥ä» Flutter è°ƒç”¨ Android/iOS çš„ä»£ç ï¼Œä¹Ÿå¯ä»¥ä» Android/iOS è°ƒç”¨ Flutterã€‚è°ƒç”¨æ—¶ç›¸å…³çš„å‚æ•°å¯¹åº”å¦‚ä¸‹ï¼š

| Dart | Android | iOS |
| --- | --- | --- |
| null | null | nil (NSNull when nested) |
| bool | java.lang.Boolean | NSNumber numberWithBool: |
| int | java.lang.Integer | NSNumber numberWithInt: |
| int, if 32 bits not enough | java.lang.Long | NSNumber numberWithLong: |
| double | java.lang.Double | NSNumber numberWithDouble: |
| String | java.lang.String | NSString |
| Uint8List | byte[] | FlutterStandardTypedData typedDataWithBytes: |
| Int32List | int[] | FlutterStandardTypedData typedDataWithInt32: |
| Int64List | long[] | FlutterStandardTypedData typedDataWithInt64: |
| Float64List | double[] | FlutterStandardTypedData typedDataWithFloat64: |
| List | java.util.ArrayList | NSArray |
| Map | java.util.HashMap | NSDictionary |

#### åˆ›å»ºé¡¹ç›®

è¿™é‡Œå‡è®¾è¯»è€…ä½¿ç”¨ Android Studio å¼€å‘ã€‚

1.  åœ¨èœå•ä¸Šé€‰æ‹© File -> New -> New Flutter Project

2.  åœ¨å¼¹å‡ºçš„é¢æ¿é‡Œé€‰æ‹© Flutter Pluginï¼Œç‚¹å‡» next

3.  Project name æˆ‘ä»¬å¡«å…¥ flutter_toast2018ï¼Œå…¶ä»–ä¿¡æ¯è¯»è€…æ ¹æ®è‡ªèº«éœ€è¦å¡«å†™

ä¹‹æ‰€ä»¥å« flutter_toast2018 æ˜¯å› ä¸º Pub ä¸Šå·²ç»æœ‰ä¸€ä¸ª flutter_toastï¼Œæ‰€ä»¥åŠ ä¸Š 2018 é˜²æ­¢åå­—å†²çªã€‚

ç”Ÿæˆçš„é¡¹ç›®æœ‰ 4 ä¸ªä¸»è¦çš„ç›®å½•ï¼š

*   androidï¼šæ’ä»¶æœ¬åœ°ä»£ç çš„ Android ç«¯å®ç°

*   iosï¼šiOS ç«¯çš„å®ç°

*   libï¼šDart ä»£ç ã€‚æ’ä»¶çš„å®¢æˆ·å°†ä¼šä½¿ç”¨è¿™é‡Œå®ç°çš„æ¥å£

*   exampleï¼šæ’ä»¶çš„ä½¿ç”¨ç¤ºä¾‹

### æ’ä»¶å¼€å‘

#### Android ç«¯ä»£ç å®ç°

å…¶å®åœ¨ä¸Šä¸€æ­¥æˆ‘ä»¬ç”Ÿæˆé¡¹ç›®çš„æ—¶å€™ï¼Œé¡¹ç›®é‡Œå°±å·²ç»åŒ…å«äº†ä¸€ä¸ªå®ç°äº† platformVersion çš„ Flutter æ’ä»¶ demoï¼Œæœ‰å…´è¶£çš„è¯»è€…å¯ä»¥çœ‹çœ‹å­¦ä¹ ä¸€ä¸‹ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥å¼€å‘è‡ªå·±çš„ Toast æ’ä»¶ï¼ˆæ³¨æ„ï¼Œæˆ‘ä»¬çš„å®ç°åªæ”¯æŒ Androidï¼‰ã€‚

é¦–å…ˆæˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹æ¥å£ MethodCallHandlerï¼š

```
publicÂ interfaceÂ MethodCallHandlerÂ {Â Â voidÂ onMethodCall(MethodCallÂ call,Â ResultÂ result);}
```

è¿™ä¸ªæ¥å£ç”¨äºå¤„ç† Flutter çš„æœ¬åœ°æ–¹æ³•è°ƒç”¨è¯·æ±‚ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬éœ€è¦å®ç°è¿™ä¸ªæ¥å£ï¼Œå½“ Flutter è°ƒç”¨æˆ‘ä»¬çš„æ—¶å€™ï¼Œå¼¹å‡ºä¸€ä¸ª toastã€‚

å®ç°è¿™ä¸ªæ¥å£çš„æ˜¯ FlutterToast2018Pluginï¼ˆä½äº android ç›®å½•ä¸‹ï¼‰ï¼š

```
publicÂ classÂ FlutterToast2018PluginÂ implementsÂ MethodCallHandlerÂ {Â Â publicÂ staticÂ voidÂ registerWith(RegistrarÂ registrar)Â {Â Â Â Â //Â "example.com/flutter_toast2018"Â æ˜¯æˆ‘ä»¬Â methodÂ channelÂ çš„åå­—ï¼ŒDartÂ ä»£ç é‡Œè¿˜éœ€è¦ç”¨åˆ°å®ƒã€‚Â Â Â Â //Â ä¸ºäº†é˜²æ­¢å‘½åå†²çªï¼Œå¯ä»¥åœ¨å®ƒçš„å‰é¢åŠ ä¸ŠåŸŸåÂ Â Â Â finalÂ channelÂ =Â newÂ MethodChannel(registrar.messenger(),Â "example.com/flutter_toast2018");Â Â Â Â channel.setMethodCallHandler(newÂ FlutterToast2018Plugin());Â Â }Â Â @OverrideÂ Â publicÂ voidÂ onMethodCall(MethodCallÂ call,Â ResultÂ result)Â {Â Â Â Â //Â TODOÂ Â }}
```

ä¸ºäº†å¼¹å‡º Toastï¼Œæˆ‘ä»¬ç»™ FlutterToast2018Plugin çš„æ„é€ å‡½æ•°æ·»åŠ ä¸€ä¸ª Context å‚æ•°ï¼š

```
publicÂ classÂ FlutterToast2018PluginÂ implementsÂ MethodCallHandlerÂ {Â Â privateÂ finalÂ ContextÂ mContext;Â Â publicÂ FlutterToast2018Plugin(ContextÂ context)Â {Â Â Â Â mContextÂ =Â context;Â Â }Â Â //Â æ³¨å†ŒÂ MethodCallHandlerÂ Â publicÂ staticÂ voidÂ registerWith(RegistrarÂ registrar)Â {Â Â Â Â finalÂ channelÂ =Â newÂ MethodChannel(registrar.messenger(),Â "example.com/flutter_toast2018");Â Â Â Â //Â contextÂ å¯ä»¥ä»Â RegistrarÂ æ‹¿åˆ°Â Â Â Â channel.setMethodCallHandler(newÂ FlutterToast2018Plugin(registrar.context());Â Â }Â Â //Â ...}
```

ç°åœ¨ï¼Œå®ç° onMethodCall æ–¹æ³•ï¼š

```
publicÂ classÂ FlutterToast2018PluginÂ implementsÂ MethodCallHandlerÂ {Â Â //Â ...Â Â @OverrideÂ Â publicÂ voidÂ onMethodCall(MethodCallÂ call,Â ResultÂ result)Â {Â Â Â Â //Â call.methodÂ æ˜¯æ–¹æ³•åï¼Œè¿™é‡Œæˆ‘ä»¬å°±å«å®ƒÂ toastÂ Â Â Â ifÂ (call.method.equals("toast"))Â {Â Â Â Â Â Â //Â è°ƒç”¨æœ¬åœ°ä»£ç çš„æ—¶å€™ï¼Œåªèƒ½ä¼ é€’ä¸€ä¸ªå‚æ•°ã€‚ä¸ºäº†ä¼ é€’å¤šä¸ªï¼Œå¯ä»¥æŠŠå‚æ•°æ”¾åœ¨ä¸€ä¸ªÂ mapÂ é‡Œé¢ã€‚Â Â Â Â Â Â //Â call.arguemnt()Â æ–¹æ³•æ”¯æŒÂ MapÂ å’ŒÂ JSONObjectÂ Â Â Â Â Â StringÂ contentÂ =Â call.argument("content");Â Â Â Â Â Â StringÂ durationÂ =Â call.argument("duration");Â Â Â Â Â Â Toast.makeText(mContext,Â content,Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â "short".equals(duration)Â ?Â Toast.LENGTH_SHORTÂ :Â Toast.LENGTH_LONG)Â Â Â Â Â Â Â Â Â Â Â Â Â Â .show();Â Â Â Â Â Â //Â æ‰§è¡ŒæˆåŠŸÂ Â Â Â Â Â result.success(true);Â Â Â Â }Â elseÂ {Â Â Â Â Â Â result.notImplemented();Â Â Â Â }Â Â }}
```

#### Flutter ç«¯

Flutter ç«¯éœ€è¦åšçš„ï¼Œå°±æ˜¯ç”Ÿæˆä¸€ä¸ª MethodChannelï¼Œç„¶åé€šè¿‡è¿™ä¸ª MethodChannel è°ƒç”¨ toast æ–¹æ³•ï¼š

```
importÂ 'dart:async';importÂ 'package:flutter/services.dart';enumÂ ToastDurationÂ {Â Â short,Â long}classÂ FlutterToastÂ {Â Â //Â è¿™é‡Œçš„åå­—è¦è·ŸÂ JavaÂ ç«¯çš„å¯¹åº”Â Â staticÂ constÂ MethodChannelÂ _channelÂ =Â Â Â Â Â Â constÂ MethodChannel('example.com/flutter_toast2018');Â Â staticÂ Future<bool>Â toast(StringÂ msg,Â ToastDurationÂ duration)Â asyncÂ {Â Â Â Â varÂ argumentÂ =Â {Â Â Â Â Â Â 'content':Â msg,Â Â Â Â Â Â 'duration':Â duration.toString()Â Â Â Â };Â Â Â Â //Â æœ¬åœ°æ–¹æ³•æ˜¯ä¸€ä¸ªå¼‚æ­¥è°ƒç”¨ã€‚'toast'Â å¯¹åº”æˆ‘ä»¬åœ¨å‰é¢Â JavaÂ ä»£ç çš„Â onMethodCallÂ Â Â Â //Â æ–¹æ³•é‡Œé¢å¤„ç†çš„æ–¹æ³•åÂ Â Â Â varÂ successÂ =Â awaitÂ _channel.invokeMethod('toast',Â argument);Â Â Â Â returnÂ success;Â Â }}
```

#### ä½¿ç”¨æ’ä»¶

åœ¨è¿™ä¸€èŠ‚æˆ‘ä»¬ä¿®æ”¹å·¥ç¨‹é‡Œ example ç›®å½•ä¸‹çš„ç¤ºä¾‹ï¼Œç”¨å®ƒæ¥æ¼”ç¤ºæ’ä»¶çš„ä½¿ç”¨ï¼š

```
importÂ 'package:flutter/material.dart';//Â é¦–å…ˆå¯¼å…¥æˆ‘ä»¬çš„åŒ…importÂ 'package:flutter_toast2018/flutter_toast2018.dart';voidÂ main()Â =>Â runApp(newÂ MyApp());classÂ MyAppÂ extendsÂ StatelessWidgetÂ {Â Â @overrideÂ Â WidgetÂ build(BuildContextÂ context)Â {Â Â Â Â returnÂ newÂ MaterialApp(Â Â Â Â Â Â home:Â newÂ Scaffold(Â Â Â Â Â Â Â Â appBar:Â newÂ AppBar(Â Â Â Â Â Â Â Â Â Â title:Â constÂ Text('PluginÂ exampleÂ app'),Â Â Â Â Â Â Â Â ),Â Â Â Â Â Â Â Â body:Â newÂ Center(Â Â Â Â Â Â Â Â Â Â child:Â RaisedButton(Â Â Â Â Â Â Â Â Â Â Â Â child:Â Text('toast'),Â Â Â Â Â Â Â Â Â Â Â Â //Â æ’ä»¶çš„ä½¿ç”¨è·Ÿå…¶ä»–åº“æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œç›´æ¥è°ƒç”¨å³å¯Â Â Â Â Â Â Â Â Â Â Â Â onPressed:Â ()Â =>Â FlutterToast2018.toast(Â Â Â Â Â Â Â Â Â Â Â Â Â Â 'ToastÂ fromÂ Flutter',Â ToastDuration.shortÂ Â Â Â Â Â Â Â Â Â Â Â ),Â Â Â Â Â Â Â Â Â Â ),Â Â Â Â Â Â Â Â ),Â Â Â Â Â Â ),Â Â Â Â );Â Â }}
```

### å‘å¸ƒæ’ä»¶

å‰é¢æˆ‘ä»¬è¯´è¿‡ï¼Œpubspec æ”¯æŒé€šè¿‡æœ¬åœ°è·¯å¾„å’Œ Git å¯¼å…¥ä¾èµ–ï¼Œä½†ä¸ºäº†æ›´å¥½çš„ç®¡ç†ç‰ˆæœ¬ä¾èµ–ï¼Œè¿˜æ˜¯æ¨èå‘å¸ƒæ’ä»¶åˆ° https://pub.dartlang.org/ã€‚åœ¨è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°±æŠŠå‰é¢å¼€å‘çš„ toast æ’ä»¶å‘å¸ƒåˆ° Pub ä¸Šã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºæŸäº›ä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œpub.dartlang.org éœ€è¦ä¸€æŠŠæ¢¯å­æ‰èƒ½ä¸Šå»ã€‚è™½ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ flutter-io.cn æ¥å‘å¸ƒï¼Œä½†ä¸Šä¼ çš„æ—¶å€™éœ€è¦ç™»å½• Google è´¦å·ï¼Œæ¢¯å­è¿˜æ˜¯å°‘ä¸äº†çš„ã€‚

#### æ£€æŸ¥é…ç½®

é¦–å…ˆæ˜¯ pubspec.yamlã€‚å¯¹ Flutter æ’ä»¶æ¥è¯´ï¼Œpubspec é‡Œé™¤äº†æ’ä»¶çš„ä¾èµ–ï¼Œè¿˜åŒ…å«ä¸€äº›å…ƒä¿¡æ¯ï¼Œè¯»è€…å¯ä»¥æ ¹æ®éœ€è¦ï¼ŒæŠŠè¿™äº›è¡¥ä¸Šï¼š

```
name:Â flutter_toast2018description:Â AÂ newÂ FlutterÂ pluginÂ forÂ AndroidÂ Toast.version:Â 0.0.1author:Â JektonÂ <ljtong64@gmail.com>homepage:Â https://jekton.github.io/
```

å¦å¤–ï¼Œå‘å¸ƒåˆ° Pub ä¸Šçš„åŒ…éœ€è¦åŒ…å«ä¸€ä¸ª LICENSEï¼Œå…³äº LICENSE æ–‡ä»¶ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯åœ¨ GitHub åˆ›å»ºä»“åº“çš„æ—¶å€™é€‰ä¸­ä¸€ä¸ªã€‚

#### æ£€æŸ¥æ’ä»¶

ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨å·¥ç¨‹çš„æ ¹ç›®å½•æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæ£€æµ‹ä¸€ä¸‹æ’ä»¶æœ‰æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼š

```
flutterÂ packagesÂ pubÂ publishÂ --dry-run
```

å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œå°†ä¼šè¾“å‡ºï¼š

```
...PackageÂ hasÂ 0Â warnings.
```

#### å‘å¸ƒæ’ä»¶

å‘å¸ƒæ’ä»¶å’Œä¸Šä¸€æ­¥ä¸€æ ·ï¼Œåªæ˜¯å°‘äº† --dry-run å‚æ•°ï¼š

```
flutterÂ packagesÂ pubÂ publish
```

å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡å‘å¸ƒï¼Œä¼šæç¤ºéªŒè¯ Google è´¦å·ã€‚æˆæƒåä¾¿å¯ä»¥ç»§ç»­ä¸Šä¼ ï¼Œå¦‚æœæˆåŠŸçš„è¯ï¼Œä¼šæç¤º â€œSuccessful uploaded packageâ€ï¼š

```
LooksÂ great!Â AreÂ youÂ readyÂ toÂ uploadÂ yourÂ packageÂ (y/n)?Â yPubÂ needsÂ yourÂ authorizationÂ toÂ uploadÂ packagesÂ onÂ yourÂ behalf.InÂ aÂ webÂ browser,Â goÂ toÂ https://accounts.google.com/o/oauth2/auth?access_type=offline&approval_prompt=force&response_type=code&client_id=xxxxxxxxxxxxxx-8grd2eg9tj9f38os6f1urbcvsq399u8n.apps.googleusercontent.com&redirect_uri=http%3A%2F%2Flocalhost%3A52589&scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.emailThenÂ clickÂ "AllowÂ access".WaitingÂ forÂ yourÂ authorization...SuccessfullyÂ authorized.Uploading...SuccessfulÂ uploadedÂ package.
```

å‰é¢æˆ‘ä»¬å‘å¸ƒçš„åŒ…å¯ä»¥åœ¨ https://pub.dartlang.org/packages/flutter_toast2018 æˆ– https://pub.flutter-io.cn/packages/flutter_toast2018 æ‰¾åˆ°ã€‚

ç›¸å…³çš„ä»£ç åˆ™æ˜¯æ”¾åˆ°äº† GitHub ä¸Šï¼š

```
gitÂ cloneÂ https://github.com/Jekton/flutter_toast2018.git
```

æœ€åå†æä¸€ææˆ‘ä»¬æ²¡æœ‰è®²åˆ°çš„ Flutter packageã€‚ä¸ºäº†å¼€å‘ä¸€ä¸ª Flutter åŒ…ï¼Œæˆ‘ä»¬åœ¨åˆ›å»ºé¡¹ç›®çš„æ—¶å€™å¯ä»¥é€‰æ‹© Flutter packageã€‚å®ƒå’Œ Flutter æ’ä»¶å”¯ä¸€çš„åŒºåˆ«æ˜¯ Flutter package ä¸èƒ½åŒ…å«å¹³å°ç‰¹å®šçš„ä»£ç ï¼ˆåªèƒ½ä½¿ç”¨ Dart å’Œ Flutter APIï¼‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¼€å‘ã€å‘å¸ƒå’Œä½¿ç”¨éƒ½è·Ÿ Flutter æ’ä»¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚

> ä¸Šå‘¨å››é€ä¹¦æ´»åŠ¨ä¸­å¥–åå•ï¼š
> **è£”æµ·ã€ä¸€èµ·é£ã€å¤§è™«å­ã€‚ã€Recoveryã€é±¼æ³¡æ³¡ã€é»‘è‰²çƒŸç«ã€é¸½ã€æ¢æ¢ã€æå²³é˜³ã€Anthonyã€Omoooã€å¹´å°‘çš„é£ã€æƒ³æ¢ä¸ªæ˜µç§°ã€StarkSongã€ğŸ³ä¸»æ©æ°¸ä¼´éšğŸ **

</section>

ä¸Šé¢çš„ 15 ä½å¹¸è¿å„¿ï¼Œè¯·æ·»åŠ æˆ‘åŠ©æ‰‹çš„å¾®ä¿¡ï¼špsl906866449ï¼Œç„¶åæŠŠå¿«é€’ä¿¡æ¯å‘ç»™å¥¹ã€‚

**æ¨èé˜…è¯»**
[è¿™ä¸€æ¬¡ï¼Œæˆ‘æ˜¯æ¥æ„Ÿè°¢å¤§å®¶çš„](http://mp.weixin.qq.com/s?__biz=MzIwMTAzMTMxMg==&mid=2649493466&idx=1&sn=233a3d0668e6c0a792d98a6527163c3c&chksm=8eec8425b99b0d33471ac152eb1c8224e191045c35a847ae8afc469864a5a34eeff8037a570f&scene=21#wechat_redirect)
[ç»™å¤§å®¶è¯´ä¸ªäº‹](http://mp.weixin.qq.com/s?__biz=MzIwMTAzMTMxMg==&mid=2649493489&idx=1&sn=751671131bb720c2301bd38839461335&chksm=8eec840eb99b0d18114fb4d9948a7edd9177bfcdee75e2a7f4fe0fc2560edf9fe6c215ee55a3&scene=21#wechat_redirect) [åœ¨ Retrofit å’Œ OkHttp ä¸­ä½¿ç”¨ç½‘ç»œç¼“å­˜ï¼Œæé«˜è®¿é—®æ•ˆç‡](http://mp.weixin.qq.com/s?__biz=MzIwMTAzMTMxMg==&mid=2649493471&idx=1&sn=1d2a6fc8ad3ede219a3a9848a08845ec&chksm=8eec8420b99b0d36c055bece085e0bd0b2f3d3c7e2c8af9c7ccff3e1c8651b4ff03a9d119dfc&scene=21#wechat_redirect)

ç¼–ç¨‹ Â· æ€ç»´ Â· èŒåœº
æ¬¢è¿æ‰«ç å…³æ³¨

![](https://mmbiz.qpic.cn/mmbiz_jpg/zKFJDM5V3WzzNpnqOGq3mMO64mFVSicAIkzUSiam08j6DetjnjeujRjEAZRe7PqmPGqow3GWxSk4gas6r7BA4k6A/640?wx_fmt=jpeg)